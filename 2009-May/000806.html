<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Canorus-devel] split to libraries ideas
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/canorus-devel/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:canorus-devel%40lists.berlios.de?Subject=Re%3A%20%5BCanorus-devel%5D%20split%20to%20libraries%20ideas&In-Reply-To=%3C4A101B37.6020304%40web.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000798.html">
   <LINK REL="Next"  HREF="000799.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Canorus-devel] split to libraries ideas</H1>
    <B>Reinhard Katzmann</B> 
    <A HREF="mailto:canorus-devel%40lists.berlios.de?Subject=Re%3A%20%5BCanorus-devel%5D%20split%20to%20libraries%20ideas&In-Reply-To=%3C4A101B37.6020304%40web.de%3E"
       TITLE="[Canorus-devel] split to libraries ideas">suamor at web.de
       </A><BR>
    <I>Sun May 17 16:12:07 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000798.html">[Canorus-devel] split to libraries ideas
</A></li>
        <LI>Next message: <A HREF="000799.html">[Canorus-devel] [Fwd: Canorus: Patch for bug 013196 (Missing support for amd64 debian/ubuntu package)]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#806">[ date ]</a>
              <a href="thread.html#806">[ thread ]</a>
              <a href="subject.html#806">[ subject ]</a>
              <a href="author.html#806">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matev&#382; Jekovec wrote:
&gt;<i> Hi guys.
</I>&gt;<i>
</I>&gt;<i> I've been thinking of the new Canorus library structure and scripting
</I>&gt;<i> solutions.
</I>&gt;<i>
</I>&gt;<i> I made a simple diagram of my idea here:
</I>&gt;<i> <A HREF="http://jekovec.net/tmp/librarydiagram.png">http://jekovec.net/tmp/librarydiagram.png</A>
</I>
I'm not sure if this will be enough of splitting. I think it might be 
useful to see the MVC also in the libraries. Control classes could be
in UI or combined with an ex/import separate library (we will get many
more export/import classes in the future).

&gt;<i> The whole change is about making canorus.exe and python bindings
</I>&gt;<i> dependent on the new libcanorus.so and not vice-versa as it's now.
</I>&gt;<i> libcanorus.so contains both the core and gui part of Canorus. This way
</I>&gt;<i> plugins using python can access all Canorus internals (including the
</I>&gt;<i> GUI!) and we fix the long lasting scripting issues, because not
</I>
I agree that GUI components should be accessible via script classes.
Still I think it might be useful to keep dependencies lower this way
for certain scripts or plugins but also for external programs only
want to make use of export/import classes or the Canorus core.

&gt;<i> everything was compiled into _CanorusPython.so. We also remove SWIGCPP
</I>&gt;<i> define. SWIG define will remain for parts we don't want them to be
</I>&gt;<i> visible to the Python (is there any?).
</I>&gt;<i>
</I>&gt;<i> What do you (&#352;tefan, Reinhard, Itay) think?
</I>&gt;<i>
</I>
Well I don't know about SWIGCPP - I used it for &quot;hiding&quot; the QAction
class for different methods. I don't think it's necessary for cpp
files as they should not be visible for python anyway except if linking
the library with a python script leads to undefined symbols.
I don't think we can get rid of SWIG so easily. The only way would be
a strict split between those parts visible to python and parts not
visible. It might lead to header files like settings_noscript.h or
settings_script.h which I really don't like. OTOH too much #defines
can be problematic too regarding to core readability (escpecially if
a python developer quickly wants to know the supported functionality
of something like the CASettings class.

Regards,

Reinhard Katzmann
-- 
Software-Engineer, Developer of User Interfaces
Project: Canorus - the next generation music score editor - 
<A HREF="http://canorus.berlios.de">http://canorus.berlios.de</A>
GnuPG Public Key available on request

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000798.html">[Canorus-devel] split to libraries ideas
</A></li>
	<LI>Next message: <A HREF="000799.html">[Canorus-devel] [Fwd: Canorus: Patch for bug 013196 (Missing support for amd64 debian/ubuntu package)]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#806">[ date ]</a>
              <a href="thread.html#806">[ thread ]</a>
              <a href="subject.html#806">[ subject ]</a>
              <a href="author.html#806">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/canorus-devel">More information about the Canorus-devel
mailing list</a><br>
</body></html>
