<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Canorus-devel] OS X build
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/canorus-devel/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:canorus-devel%40lists.berlios.de?Subject=Re%3A%20%5BCanorus-devel%5D%20OS%20X%20build&In-Reply-To=%3C275065.84428.qm%40web30611.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000038.html">
   <LINK REL="Next"  HREF="000047.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Canorus-devel] OS X build</H1>
    <B>canorus-devel at lists.berlios.de</B> 
    <A HREF="mailto:canorus-devel%40lists.berlios.de?Subject=Re%3A%20%5BCanorus-devel%5D%20OS%20X%20build&In-Reply-To=%3C275065.84428.qm%40web30611.mail.mud.yahoo.com%3E"
       TITLE="[Canorus-devel] OS X build">canorus-devel at lists.berlios.de
       </A><BR>
    <I>Sat Feb 10 09:56:35 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000038.html">[Canorus-devel] qt, gtk1
</A></li>
        <LI>Next message: <A HREF="000047.html">[Canorus-devel] Canorus plugin for Harmonia
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43">[ date ]</a>
              <a href="thread.html#43">[ thread ]</a>
              <a href="subject.html#43">[ subject ]</a>
              <a href="author.html#43">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've created a proof-of-concept self-contained OS X build that should
work on all Macs running OSX 10.4 or later: it was built on a ppc
machine and the .dmg was installed on an intel machine; both work. The
.dmg file is here:

<A HREF="http://merphant.net/canorus/Canorus.dmg">http://merphant.net/canorus/Canorus.dmg</A>
(Or course this is an EXPERIMENTAL build, beware)

The build process I used isn't cleanly integrated with cmake yet. There
are two shell scripts: The first one makes the .app bundle directories;
this is trivial and should be easy to do with cmake. The second is not
so easy; I don't know if this can be done with TARGET_LINK_LIBRARIES
since cmake has to first find the Qt libraries as they are installed on
the system, copy them into the .app, and then link the executable to
the copies. The shell script is based on the instructions here:

<A HREF="http://doc.trolltech.com/qq/qq09-mac-deployment.html">http://doc.trolltech.com/qq/qq09-mac-deployment.html</A>

and uses &quot;install_name_tool&quot; to manually change the link info in the
executable and the copied libraries. FYI that page was linked from this
page on OS X development with cmake: 

<A HREF="http://www.vtk.org/Wiki/CMake:Bundles_And_Frameworks">http://www.vtk.org/Wiki/CMake:Bundles_And_Frameworks</A>

Attached are patches to the CMakeLists files just FYI; I'll play around
with them a little more and make them cleaner. I manually created the
.dmg file this time, but there is a command-line utility on OSX that
can do it automatically in the future. Supposedly CPack can also do it
in a more generic way.

Sam
-------------- next part --------------
A non-text attachment was scrubbed...
Name: canorus-osx-2007-02-09.patch
Type: application/octet-stream
Size: 2275 bytes
Desc: 64140681-canorus-osx-2007-02-09.patch
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/canorus-devel/attachments/20070210/3c892ec1/attachment.obj">https://lists.berlios.de/pipermail/canorus-devel/attachments/20070210/3c892ec1/attachment.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000038.html">[Canorus-devel] qt, gtk1
</A></li>
	<LI>Next message: <A HREF="000047.html">[Canorus-devel] Canorus plugin for Harmonia
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43">[ date ]</a>
              <a href="thread.html#43">[ thread ]</a>
              <a href="subject.html#43">[ subject ]</a>
              <a href="author.html#43">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/canorus-devel">More information about the Canorus-devel
mailing list</a><br>
</body></html>
