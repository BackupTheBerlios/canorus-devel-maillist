<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Canorus-devel] CAMainWin &quot;easy&quot; refactoring steps
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/canorus-devel/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:canorus-devel%40lists.berlios.de?Subject=Re%3A%20%5BCanorus-devel%5D%20CAMainWin%20%22easy%22%20refactoring%20steps&In-Reply-To=%3C4B9ACCB1.7000700%40web.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000934.html">
   <LINK REL="Next"  HREF="000929.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Canorus-devel] CAMainWin &quot;easy&quot; refactoring steps</H1>
    <B>Reinhard Katzmann</B> 
    <A HREF="mailto:canorus-devel%40lists.berlios.de?Subject=Re%3A%20%5BCanorus-devel%5D%20CAMainWin%20%22easy%22%20refactoring%20steps&In-Reply-To=%3C4B9ACCB1.7000700%40web.de%3E"
       TITLE="[Canorus-devel] CAMainWin &quot;easy&quot; refactoring steps">suamor at web.de
       </A><BR>
    <I>Sat Mar 13 00:22:25 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000934.html">[Canorus-devel] Canorus library proposal
</A></li>
        <LI>Next message: <A HREF="000929.html">[Canorus-devel] Unit Test Dok and Status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#928">[ date ]</a>
              <a href="thread.html#928">[ thread ]</a>
              <a href="subject.html#928">[ subject ]</a>
              <a href="author.html#928">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

As first &quot;easy&quot; refactoring steps of CAMainWin I created a dummy
control class in the new scorectl directory. It is similar (and
based on) the Print/Preview control classes.

To refactor you just search for a music element method to be
moved outside CAMainWin like on_uiInsertKeySig_toggled.

The next step is to find out all dependencies. It's easy when
only mainwindow objects are needed like the view and harder
when special objects are needed only for this operation.

First add the needed header includes, then transfer special objects.
Next create them in the constructor.

If additional signals are used in the dependent objects you may be
able to transfer more methods from CAMainWin (but again dependency
checks like above have to be done).

Mainly pay attention that only one task is done within the new class
(like in this case control of key signature only).

If done test everything (compare old results with new results). Even
better would be to write proper unit tests... :)

If everythings works check in.

I will do some refaktoring as exercise for myself but mainly concentrate
on actions needed for the action editor.

Regards,

Reinhard
-- 
Software-Engineer, Developer of User Interfaces
Project: Canorus - the next generation music score editor -
<A HREF="http://canorus.berlios.de">http://canorus.berlios.de</A>
GnuPG Public Key available on request

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000934.html">[Canorus-devel] Canorus library proposal
</A></li>
	<LI>Next message: <A HREF="000929.html">[Canorus-devel] Unit Test Dok and Status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#928">[ date ]</a>
              <a href="thread.html#928">[ thread ]</a>
              <a href="subject.html#928">[ subject ]</a>
              <a href="author.html#928">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/canorus-devel">More information about the Canorus-devel
mailing list</a><br>
</body></html>
